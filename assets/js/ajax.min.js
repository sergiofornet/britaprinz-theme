!function(){"use strict";var t=function(t,r){(null==r||r>t.length)&&(r=t.length);for(var e=0,n=new Array(r);e<r;e++)n[e]=t[e];return n};var r=function(r){if(Array.isArray(r))return t(r)};var e=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var n=function(r,e){if(r){if("string"==typeof r)return t(r,e);var n=Object.prototype.toString.call(r).slice(8,-1);return"Object"===n&&r.constructor&&(n=r.constructor.name),"Map"===n||"Set"===n?Array.from(r):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(r,e):void 0}};var o=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var a=function(t){return r(t)||e(t)||n(t)||o()};function i(t){var r={exports:{}};return t(r,r.exports),r.exports}var c=i((function(t){function r(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=r=function(t){return typeof t}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(e)}t.exports=r}));function s(t,r,e,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void e(t)}c.done?r(s):Promise.resolve(s).then(n,o)}var u=function(t){return function(){var r=this,e=arguments;return new Promise((function(n,o){var a=t.apply(r,e);function i(t){s(a,n,o,i,c,"next",t)}function c(t){s(a,n,o,i,c,"throw",t)}i(void 0)}))}},l=i((function(t){var r=function(t){var r=Object.prototype,e=r.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,r,e){return Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[r]}try{c({},"")}catch(t){c=function(t,r,e){return t[r]=e}}function s(t,r,e,n){var o=r&&r.prototype instanceof f?r:f,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(t,r,e){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return E()}for(e.method=o,e.arg=a;;){var i=e.delegate;if(i){var c=w(i,e);if(c){if(c===l)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if("suspendedStart"===n)throw n="completed",e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);n="executing";var s=u(t,r,e);if("normal"===s.type){if(n=e.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:e.done}}"throw"===s.type&&(n="completed",e.method="throw",e.arg=s.arg)}}}(t,e,i),a}function u(t,r,e){try{return{type:"normal",arg:t.call(r,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function f(){}function d(){}function v(){}var h={};h[o]=function(){return this};var p=Object.getPrototypeOf,y=p&&p(p(x([])));y&&y!==r&&e.call(y,o)&&(h=y);var m=v.prototype=f.prototype=Object.create(h);function g(t){["next","throw","return"].forEach((function(r){c(t,r,(function(t){return this._invoke(r,t)}))}))}function _(t,r){var n;this._invoke=function(o,a){function i(){return new r((function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&e.call(f,"__await")?r.resolve(f.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):r.resolve(f).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,r){var e=t.iterator[r.method];if(void 0===e){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=void 0,w(t,r),"throw"===r.method))return l;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(e,t.iterator,r.arg);if("throw"===n.type)return r.method="throw",r.arg=n.arg,r.delegate=null,l;var o=n.arg;return o?o.done?(r[t.resultName]=o.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=void 0),r.delegate=null,l):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,l)}function b(t){var r={tryLoc:t[0]};1 in t&&(r.catchLoc=t[1]),2 in t&&(r.finallyLoc=t[2],r.afterLoc=t[3]),this.tryEntries.push(r)}function k(t){var r=t.completion||{};r.type="normal",delete r.arg,t.completion=r}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var r=t[o];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function r(){for(;++n<t.length;)if(e.call(t,n))return r.value=t[n],r.done=!1,r;return r.value=void 0,r.done=!0,r};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return d.prototype=m.constructor=v,v.constructor=d,d.displayName=c(v,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var r="function"==typeof t&&t.constructor;return!!r&&(r===d||"GeneratorFunction"===(r.displayName||r.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(_.prototype),_.prototype[a]=function(){return this},t.AsyncIterator=_,t.async=function(r,e,n,o,a){void 0===a&&(a=Promise);var i=new _(s(r,e,n,o),a);return t.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},g(m),c(m,i,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var r=[];for(var e in t)r.push(e);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=x,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var r in this)"t"===r.charAt(0)&&e.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function n(e,n){return i.type="throw",i.arg=t,r.next=e,n&&(r.method="next",r.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=e.call(a,"catchLoc"),s=e.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&e.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=r&&r<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=r,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,r){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&r&&(this.next=r),l},finish:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),l}},catch:function(t){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===t){var n=e.completion;if("throw"===n.type){var o=n.arg;k(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,e){return this.delegate={iterator:x(t),resultName:r,nextLoc:e},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}}));function f(t,r){return d.apply(this,arguments)}function d(){return(d=u(l.mark((function t(r,e){var n,o;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r,e);case 2:return n=t.sent,o=n.ok?n.json():"",t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){var r="";return"object"===c(t)?(r+='<ul class="artworks__list">',t.forEach((function(t){var e=t.artwork_techniques,n=e.featured_techniques,o=e.other_techniques;r+='\n\t\t\t<li class="artwork" key="artwork-'.concat(t.slug,'">\n\t\t\t\t<button class="artwork__title">').concat(t.title.rendered,'</button>\n\t\t\t\t<div class="artwork__info">\n\t\t\t\t\t').concat(t.artwork_image_src?'<div class="artwork__thumbnail"><a href="'.concat(t.link,'" data-artwork="').concat(t.id,'">').concat(t.artwork_image_src,"</a></div>"):"",'\n\t\t\t\t\t<div class="artwork__year">').concat(t.bp_artwork_year,'</div>\n\t\t\t\t\t<div class="artwork__copy">').concat(t.bp_artwork_copy,"</div>\n\t\t\t\t\t").concat(t.bp_artwork_size_image&&'<div class="artwork__size-image">'.concat(t.bp_artwork_size_image,"</div>"),'\n\t\t\t\t\t<div class="artwork__size-sheet">').concat(t.bp_artwork_size,'</div>\n\t\t\t\t\t<div class="artwork__paper">').concat(t.bp_artwork_paper,'</div>\n\t\t\t\t\t<div class="artwork__condition">').concat(t.bp_artwork_condition,"</div>\n\t\t\t\t\t").concat(t.artwork_info?'<div class="artwork__description">'.concat(t.artwork_info,"</div>"):"",'\n\t\t\t\t\t<div class="artwork__techniques">\n\t\t\t\t\t\t').concat(n.map((function(t){return'<a class="technique" href="'.concat(t[1],'">').concat(t[0],"</a>")})).join("\n"),"\n\t\t\t\t\t\t").concat(o&&"<span>".concat(o,"</span>"),"\n\t\t\t\t\t</div>\n\t\t\t\t\t").concat(t.artwork_loan?'<div class="artwork__loan">'.concat(t.artwork_loan,"</div>"):"","\n\t\t\t\t\t").concat(t.artwork_sale?'<div class="artwork__sale">'.concat(t.artwork_sale,"</div>"):"","\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t")})),r+="</ul>"):r=t,r}!function(){var t=ajax_var.nonce,r=ajax_var,e=r.lang,n=r.searchUrl,o=r.artistId;console.log(ajax_var);var i={method:"get",headers:new Headers({"Content-Type":"application/json","X-WP-Nonce":t}),credentials:"same-origin"},s=document.querySelector(".artist-search"),u=document.querySelector(".artists__list"),l=new IntersectionObserver((function(t){t.forEach((function(t){var r=document.querySelector(".initial__button[data-target*=".concat(t.target.dataset.initial,"]"));t.intersectionRatio>=.5?r.classList.add("active"):r.classList.remove("active")}))}),{rootMargin:"0px 0px -85% 0px",root:u,threshold:.5}),d=document.querySelector(".artworks"),h=document.querySelector(".artwork-gallery");h.querySelector(".artwork-gallery__close button").addEventListener("click",(function(){return h.classList.toggle("hidden")}));var p=h.querySelector(".artwork-gallery__slider");document.querySelectorAll(".initial__button").forEach((function(t){var r=new MoveTo({tolerance:10,duration:500,easing:"easeOutQuart",container:u});t.addEventListener("click",(function(){var e=t.dataset.target,n=document.querySelector("[data-initial=".concat(e.toLowerCase(),"]"));r.move(n)}))}));var y=function(t,r,e,n){var o,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";console.log(r),a?o=a:(t.preventDefault(),o=t.target.dataset.artist);var i="".concat(r.artworkUrl,"?artist=").concat(o,"&order=asc&orderby=slug"),s="".concat(r.artistUrl,"/").concat(o);e.innerHTML="",e.classList.add("loading"),f(i,n).then((function(t){console.log(i);var r=v(t);e.insertAdjacentHTML("beforeend",r);var n=document.querySelectorAll(".artworks__list .artwork"),o=document.querySelectorAll(".artwork__thumbnail a");n.forEach((function(t){var r=t.querySelector(".artwork__info");t.querySelector(".artwork__title").addEventListener("click",(function(t){r.classList.toggle("visible")}))})),o.forEach((function(r){r.addEventListener("click",(function(r){r.preventDefault(),h.classList.toggle("hidden");var e=r.currentTarget.dataset.artwork;if(t.some((function(t){return t.id===parseInt(e)}))){p.innerHTML="";var n=document.createElement("div");n.classList.add("slides"),p.insertAdjacentElement("afterbegin",n),t.filter((function(t){return t.id===parseInt(e)}))[0].artwork_image_gallery.forEach((function(t){return n.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t\t\t<div class="slide">\n\t\t\t\t\t\t\t\t'.concat(t,"\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t"))})),p.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<button class="previous-slide">←</button>\n\t\t\t\t\t\t\t\t<button class="next-slide">→</button>\n\t\t\t\t\t\t\t</div>'),new Slider(p,!0)}}))}))})).then((function(){return e.classList.remove("loading")})),f(s,n).then((function(t){var r;console.log(s);var n=t.name,a=t.artist_bio;r="object"===c(t)?'\n\t\t\t\t<div class="artworks__artist">\n\t\t\t\t\t<h2 class="artist__name">'.concat(n,"</h2>\n\t\t\t\t\t").concat(a?'<div class="artist__bio">'.concat(a,"</div>"):"","\n\t\t\t\t</div>\n\t\t\t\t"):o,e.insertAdjacentHTML("afterbegin",r)}))},m=function(t,r,e,n){var o="".concat(n?"".concat(t,"?lang=").concat(n):"".concat(t));console.log(o),e.classList.add("loading"),f(o,r).then((function(t){if(e.innerHTML="",Array.isArray(t)){var r=new Set(t.map((function(t){return t.order.trim()[0].toLowerCase()})).sort());a(r).forEach((function(r){var n=document.createElement("div");n.classList.add("artists-group"),n.dataset.initial=r,n.insertAdjacentHTML("afterbegin",'\n\t\t\t\t\t\t\t<span class="artists-group__label">'.concat(r,"</span>\n\t\t\t\t\t\t")),t.filter((function(t){return t.order.trim()[0].toLowerCase()===r})).forEach((function(t){var r=document.createElement("button");r.dataset.artist=t.term_id,r.classList.add("artist__button"),r.classList.add("inactive"),r.insertAdjacentText("afterbegin",t.name),r.addEventListener("click",(function(t){t.currentTarget.classList.contains("inactive")?(document.querySelector(".artist__button.active")&&document.querySelector(".artist__button.active").classList.replace("active","inactive"),y(t,ajax_var,d,i),t.currentTarget.classList.replace("inactive","active")):(t.currentTarget.classList.replace("active","inactive"),d.innerHTML="")})),n.insertAdjacentElement("beforeend",r)})),e.insertAdjacentElement("beforeend",n),l.observe(n)}))}else e.innerHTML=t})).then((function(){return e.classList.remove("loading")}))};m(n,i,u,e),o&&y(null,ajax_var,d,i,o),s.addEventListener("keyup",(function(){m("".concat(n,"/").concat(s.value),i,u,e)}))}()}();