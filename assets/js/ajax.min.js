"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function artworksList(t){var e="";return"object"===_typeof(t)?(e+='<ul class="artwork-list">',t.forEach(function(t){var n=t.artwork_techniques,r=n.featured_techniques,n=n.other_techniques;e+='\n\t\t\t<li class="artwork" key="artwork-'.concat(t.slug,'">\n\t\t\t\t<div class="artwork__title"><a href="').concat(t.link,'">').concat(t.title.rendered,'</a></div>\n\t\t\t\t<div class="artwork__stuff">\n\t\t\t\t\t').concat(t.artwork_image_src?'<div class="artwork__thumbnail"><a href="'.concat(t.link,'" data-artwork="').concat(t.id,'">').concat(t.artwork_image_src,"</a></div>"):"",'\n\t\t\t\t\t<div class="artwork__info">').concat(t.bp_artwork_year,'</div>\n\t\t\t\t\t<div class="artwork__info">').concat(t.bp_artwork_condition,'</div>\n\t\t\t\t\t<div class="artwork__info">').concat(t.bp_artwork_copy,'</div>\n\t\t\t\t\t<div class="artwork__info">').concat(t.bp_artwork_paper,'</div>\n\t\t\t\t\t<div class="artwork__info">').concat(t.bp_artwork_size,"</div>\n\t\t\t\t\t").concat(t.artwork_loan?'<div class="artwork__info">'.concat(t.artwork_loan,"</div>"):"","\n\t\t\t\t\t").concat(t.artwork_sale?'<div class="artwork__info">'.concat(t.artwork_sale,"</div>"):"",'\n\t\t\t\t\t<div class="artwork__techniques">\n\t\t\t\t\t\t').concat(r.map(function(t){return'<a href="'.concat(t[1],'">').concat(t[0],"</a>")}).join("\n"),"\n\t\t\t\t\t\t").concat(n&&"<span>".concat(n,"</span>"),'\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="artwork__info">').concat(t.bp_artwork_info,"</div>\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t")}),e+="</ul>"):e=t,e}function asyncGeneratorStep(t,n,r,e,o,a,c){try{var i=t[a](c),s=i.value}catch(t){return void r(t)}i.done?n(s):Promise.resolve(s).then(e,o)}function _asyncToGenerator(i){return function(){var t=this,c=arguments;return new Promise(function(n,r){var e=i.apply(t,c);function o(t){asyncGeneratorStep(e,n,r,o,a,"next",t)}function a(t){asyncGeneratorStep(e,n,r,o,a,"throw",t)}o(void 0)})}}function asyncFetch(t,n){return _asyncFetch.apply(this,arguments)}function _asyncFetch(){return(_asyncFetch=_asyncToGenerator(regeneratorRuntime.mark(function t(n,r){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(n,r);case 2:if((e=t.sent).ok)return t.next=6,e.json();t.next=9;break;case 6:t.t0=t.sent,t.next=10;break;case 9:t.t0="Nothing found.";case 10:return e=t.t0,t.abrupt("return",e);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){var e=document.querySelector(".artworks__container"),t=document.querySelectorAll(".artist__link");t&&t.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault(),e.innerHTML="";var n=new Headers({"Content-Type":"applications/json","X-WP-Nonce":ajax_var.nonce}),r=t.target.dataset.artist,t=ajax_var.artworkUrl+r+"&order=asc&orderby=slug",r="".concat(ajax_var.artistUrl,"/").concat(r),t="".concat(t.slice(0,t.indexOf("wp-json"))).concat(ajax_var.lang).concat(t.slice(t.indexOf("/wp-json"))),r="".concat(r.slice(0,r.indexOf("wp-json"))).concat(ajax_var.lang).concat(r.slice(r.indexOf("/wp-json")));asyncFetch(t,{method:"get",headers:n,credentials:"same-origin"}).then(function(t){var n=artworksList(t);return e.insertAdjacentHTML("beforeend",n),t}).then(function(t){return document.querySelectorAll(".artwork-list .artwork").forEach(function(t){var n=t.querySelector(".artwork__stuff");t.querySelector(".artwork__title").addEventListener("click",function(t){t.preventDefault(),n.classList.toggle("visible")})}),t}).then(function(r){var t=document.querySelectorAll(".artwork__thumbnail a"),e=document.querySelector(".artworks__gallery");t.forEach(function(t){t.addEventListener("click",function(n){n.preventDefault(),r.some(function(t){return t.id===parseInt(n.currentTarget.dataset.artwork)})&&(e.innerHTML=r.filter(function(t){return t.id===parseInt(n.currentTarget.dataset.artwork)})[0].artwork_image_gallery.join("\n"))})})}),asyncFetch(r,{method:"get",headers:n,credentials:"same-origin"}).then(function(t){var t=t,t="object"===_typeof(t)?"\n\t\t\t\t\t\t<h2>".concat(t.name,"</h2>\n\t\t\t\t\t\t<p>").concat(t.description,"</p>\n\t\t\t\t\t\t"):t;e.insertAdjacentHTML("afterbegin",t)})})})}();