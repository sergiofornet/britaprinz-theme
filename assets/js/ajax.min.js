!function(){"use strict";function t(t,e,r,n,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void r(t)}c.done?e(s):Promise.resolve(s).then(n,o)}var e=function(e){return function(){var r=this,n=arguments;return new Promise((function(o,a){var i=e.apply(r,n);function c(e){t(i,o,a,c,s,"next",e)}function s(e){t(i,o,a,c,s,"throw",e)}c(void 0)}))}};function r(t){var e={exports:{}};return t(e,e.exports),e.exports}var n=r((function(t){function e(r){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(r)}t.exports=e}));var o=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n};var a=function(t){if(Array.isArray(t))return o(t)};var i=function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)};var c=function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}};var s=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var u=function(t){return a(t)||i(t)||c(t)||s()},l=r((function(t){var e=function(t){var e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),i=new L(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return E()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l={};function d(){}function f(){}function v(){}var h={};h[o]=function(){return this};var p=Object.getPrototypeOf,y=p&&p(p(x([])));y&&y!==e&&r.call(y,o)&&(h=y);var m=v.prototype=d.prototype=Object.create(h);function _(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function g(t,e){var n;this._invoke=function(o,a){function i(){return new e((function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,d=l.value;return d&&"object"==typeof d&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,i,c)}),(function(t){n("throw",t,i,c)})):e.resolve(d).then((function(t){l.value=t,i(l)}),(function(t){return n("throw",t,i,c)}))}c(s.arg)}(o,a,n,i)}))}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function b(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function k(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(b,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:E}}function E(){return{value:void 0,done:!0}}return f.prototype=m.constructor=v,v.constructor=f,f.displayName=c(v,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,v):(t.__proto__=v,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},_(g.prototype),g.prototype[a]=function(){return this},t.AsyncIterator=g,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new g(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},_(m),c(m,i,"Generator"),m[o]=function(){return this},m.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=x,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),k(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:x(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}}));function d(t,e){return f.apply(this,arguments)}function f(){return(f=e(l.mark((function t(e,r){var n,o;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e,r);case 2:return n=t.sent,o=n.ok?n.json():"",t.abrupt("return",o);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){var e="";return"object"===n(t)?(e+='<ul class="artworks__list">',t.forEach((function(t){var r=t.artwork_techniques,n=r.featured_techniques,o=r.other_techniques;e+='\n\t\t\t<li class="artwork" key="artwork-'.concat(t.slug,'">\n\t\t\t\t<button class="artwork__title">').concat(t.title.rendered,'</button>\n\t\t\t\t<div class="artwork__info">\n\t\t\t\t\t').concat(t.artwork_image_src?'<div class="artwork__thumbnail"><a href="'.concat(t.link,'" data-artwork="').concat(t.id,'">').concat(t.artwork_image_src,"</a></div>"):"",'\n\t\t\t\t\t<div class="artwork__year">').concat(t.bp_artwork_year,'</div>\n\t\t\t\t\t<div class="artwork__copy">').concat(t.bp_artwork_copy,"</div>\n\t\t\t\t\t").concat(t.bp_artwork_size_image&&'<div class="artwork__size-image">'.concat(t.bp_artwork_size_image,"</div>"),'\n\t\t\t\t\t<div class="artwork__size-sheet">').concat(t.bp_artwork_size,'</div>\n\t\t\t\t\t<div class="artwork__paper">').concat(t.bp_artwork_paper,'</div>\n\t\t\t\t\t<div class="artwork__condition">').concat(t.bp_artwork_condition,"</div>\n\t\t\t\t\t").concat(t.artwork_info?'<div class="artwork__description">'.concat(t.artwork_info,"</div>"):"",'\n\t\t\t\t\t<div class="artwork__techniques">\n\t\t\t\t\t\t').concat(n.map((function(t){return'<a class="technique" href="'.concat(t[1],'">').concat(t[0],"</a>")})).join("\n"),"\n\t\t\t\t\t\t").concat(o&&"<span>".concat(o,"</span>"),"\n\t\t\t\t\t</div>\n\t\t\t\t\t").concat(t.artwork_loan?'<div class="artwork__loan">'.concat(t.artwork_loan,"</div>"):"","\n\t\t\t\t\t").concat(t.artwork_sale?'<div class="artwork__sale">'.concat(t.artwork_sale,"</div>"):"","\n\t\t\t\t</div>\n\t\t\t</li>\n\t\t\t")})),e+="</ul>"):e=t,e}var h=(t=0)=>new Promise(e=>setTimeout(e,t)),p=document.querySelector(".collection__header"),y=p.offsetHeight;document.documentElement.style.setProperty("--collection-header-height","".concat(y,"px"));var m=ajax_var.nonce,_=ajax_var,g=_.lang,w=_.searchUrl,b=_.artistId;console.log(ajax_var);var k={method:"get",headers:new Headers({"Content-Type":"application/json","X-WP-Nonce":m}),credentials:"same-origin"},L=document.querySelector(".artist-search"),x=document.querySelector(".artists__list"),E=new IntersectionObserver((function(t){t.forEach((function(t){var e=document.querySelector(".initial__button[data-target*=".concat(t.target.dataset.initial,"]"));e&&(e&&t.intersectionRatio>=.5?e.dataset.active=!0:e.dataset.active=!1)}))}),{rootMargin:"0px 0px 0px 0px",root:x,threshold:.5}),S=document.querySelector(".artworks"),j=document.querySelector(".artwork-gallery");j.querySelector(".artwork-gallery__close button").addEventListener("click",(function(){return j.classList.toggle("hidden")}));var q=j.querySelector(".artwork-gallery__slider");document.querySelectorAll(".initial__button").forEach((function(t){var e=new MoveTo({tolerance:10,duration:500,easing:"easeOutQuart",container:x});t.addEventListener("click",(function(){var r=t.dataset.target,n=document.querySelector("[data-initial=".concat(r.toLowerCase(),"]"));e.move(n)}))}));var A=function(t,r,o,a){var i,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";console.log(r),c?i=c:(t.preventDefault(),i=t.target.dataset.artist);var s="".concat(r.artworkUrl,"?artist=").concat(i,"&order=asc&orderby=slug"),f="".concat(r.artistUrl,"/").concat(i);o.innerHTML="",o.dataset.state="loading";var p=document.querySelector(".collection"),y=u(document.querySelectorAll(".artist__button"));y.forEach((function(t){t.setAttribute("disabled","")})),d(s,a).then((function(t){console.log(s);var e=v(t);o.insertAdjacentHTML("beforeend",e);var r=document.querySelectorAll(".artworks__list .artwork"),n=document.querySelectorAll(".artwork__thumbnail a");r.forEach((function(t){var e=t.querySelector(".artwork__info");t.querySelector(".artwork__title").addEventListener("click",(function(t){e.classList.toggle("visible")}))})),n.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),j.classList.toggle("hidden");var r=e.currentTarget.dataset.artwork;if(t.some((function(t){return t.id===parseInt(r)}))){q.innerHTML="";var n=document.createElement("div");n.classList.add("slides"),q.insertAdjacentElement("afterbegin",n),t.filter((function(t){return t.id===parseInt(r)}))[0].artwork_image_gallery.forEach((function(e){n.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t\t\t<figure class="slide">\n\t\t\t\t\t\t\t\t'.concat(e.image,"\n\t\t\t\t\t\t\t\t").concat(t[0].bp_artwork_multiple_artists&&"<figcaption>".concat(e.caption,"</figcaption>"),"\n\t\t\t\t\t\t\t</figure>\n\t\t\t\t\t\t"))})),q.insertAdjacentHTML("beforeend",'\n\t\t\t\t\t\t\t<div class="controls">\n\t\t\t\t\t\t\t\t<button class="previous-slide">←</button>\n\t\t\t\t\t\t\t\t<button class="next-slide">→</button>\n\t\t\t\t\t\t\t</div>'),new Slider(q,!0)}}))}))})).then((function(){return o.dataset.state="loaded"})).then((function(){return y.forEach((function(t){t.removeAttribute("disabled")}))})),d(f,a).then((function(t){var r;console.log(f);var a=t.name,c=t.artist_bio;r="object"===n(t)?'\n\t\t\t\t<button class="artworks__return"><</button>\n\t\t\t\t<div class="artworks__artist">\n\t\t\t\t\t<h2 class="artist__name">'.concat(a,"</h2>\n\t\t\t\t\t").concat(c?'<div class="artist__bio">'.concat(c,"</div>"):"","\n\t\t\t\t</div>\n\t\t\t\t"):i,o.insertAdjacentHTML("afterbegin",r),o.querySelector(".artworks__return").addEventListener("click",function(){var t=e(l.mark((function t(e){return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return p.dataset.state="closed",o.dataset.state="unloading",document.querySelector("button.artist__button[data-active=true]").dataset.active=!1,t.next=5,h(500);case 5:o.dataset.state="unloaded",o.innerHTML="";case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))},T=function(t,r,n,o){var a="".concat(o?"".concat(t,"?lang=").concat(o):"".concat(t));console.log(a),n.dataset.state="loading",d(a,r).then((function(t){if(n.innerHTML="",Array.isArray(t)){var r=new Set(t.map((function(t){return t.order.trim()[0].toLowerCase()})).sort());u(r).forEach((function(r){var o=document.createElement("div");o.classList.add("artists-group"),o.dataset.initial=r,o.insertAdjacentHTML("afterbegin",'\n\t\t\t\t\t\t\t<span class="artists-group__label">'.concat(r,"</span>\n\t\t\t\t\t\t")),t.filter((function(t){return t.order.trim()[0].toLowerCase()===r})).forEach((function(t){var r=document.createElement("button");r.dataset.artist=t.term_id,r.classList.add("artist__button"),r.dataset.active=!1,r.insertAdjacentText("afterbegin",t.name.replace("&amp;","&")),r.addEventListener("click",function(){var t=e(l.mark((function t(e){var r;return l.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=document.querySelector(".collection"),"false"!==e.currentTarget.dataset.active){t.next=8;break}document.querySelector(".artist__button[data-active=true]")&&(document.querySelector(".artist__button[data-active=true]").dataset.active=!1),A(e,ajax_var,S,k),e.currentTarget.dataset.active=!0,r.dataset.state="open",t.next=17;break;case 8:return console.log("else"),e.currentTarget.dataset.active=!1,r.dataset.state="closing",S.dataset.state="unloading",t.next=14,h(500);case 14:r.dataset.state="closed",S.dataset.state="unloaded",S.innerHTML="";case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o.insertAdjacentElement("beforeend",r)})),n.insertAdjacentElement("beforeend",o),E.observe(o)}))}else n.innerHTML=t})).then((function(){return n.dataset.state="loaded"}))};T(w,k,x,g),b&&A(null,ajax_var,S,k,b),L.addEventListener("keyup",(function(){T("".concat(w,"/").concat(L.value),k,x,g)}))}();